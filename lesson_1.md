# Урок 1. Два плюс два &mdash; это непросто

Начнем с программ, которые занимают 1 строку. Максимально подробно разберем, как этот однострочный 
код работает, усвоив фундаментальные вещи, которые применимы к коду любого объема.

Весь код в этом уроке будем выполнять в интерпретаторе в интерактивном режиме (что это за режим я рассказывал в материале об установке Python-интерпретатора).

Инструкция:
- на рабочем столе у вас уже должна быть создана директория `programming`
- нажмите на нее правой кнопкой мыши и нажмите "Открыть с помощью Code". Будет запуще VS Code
- если панель с терминалом не открыта, откройте его, нажав `ctrl` + `j`
- убедитесь, что запущен `bash`. В терминале должно быть приглашение к вводу команд примерно такого вида

```bash
user@Garanzha MINGW64 /c/Desktop/programming
$
```

- введите в `bash` команду для запуска Python-интерпретатор в интерактивном режиме.

`python -i`

```
user@Garanzha MINGW64 /c/Desktop/programming
$ python -i
Python 3.9.0 (tags/v3.9.0:9cf6752, Oct  5 2020, 15:34:40) [MSC v.1927 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> 
```

Откроется сеанс работы с интерпретатором, где "ёлочки" (`>>>`) &mdash; приглашение ввести код, который после нажатия `Enter`, интерпретатор "прочитает" и обеспечит исполнение.

**Внимание**: если захотите выйти из сеанса работы с интерпретатором, наберите `exit()` и нажмите Enter. Тогда вы вернется обратно в `bash`.

Мы собираемся ввести в интерпретаторе `2 + 2`, но давайте не будем спешить, а ответим на вопрос: "Как интерпретатор понимает, что два плюс два &mdash; это понятная нам, людям, операция, в результате которой должна получиться сумма двух чисел равная 4?"

## Объекты &mdash; основа кода на Python

Начну с того, что любой код, который мы передаем интерпретатору всегда содержит 
какие-то *объекты*. Объекты &mdash; это *некая сущность*, которая имеет определенные 
характеристики (атрибуты) и функционал (что-то умеет делать).

Согласен, звучит не очень понятно. В качестве аналогии просто осмотритесь вокруг. 
Вас окружают объекты, вещи, у которых есть *какие-то характеристики* и *какое-то назначение*. Мы используем эти вещи для достижения *какого-то результата*.

То же самое и с кодом, просто "вещи" в нем другие.

Простейшие объекты, без которых не обходится ни одна программа, &mdash; числа и 
текст (текст, независимо от длины, именуется *строкой*).

**Запоминаем**: числа и строки &mdash; это объекты.

## У каждого объекта есть свой источник &mdash; класс

У любого объекта есть прототип. Прототип описывает то, *каким должен быть* каждый 
объект, который будет создаваться из этого прототипа. *Каким должен быть* &mdash; 
каким функционалом и какими характеристиками будет обладать.

Прототип именуется **классом** (`class`). Объект того или иного класса называют 
по-разному: объект класса, экземпляр класса, инстанс (`instance`).

**Запоминаем**: у каждого *объекта* есть свой *класс*. Нет класса &mdash; нет прототипа (схемы, 
чертежа, можно еще какую-то похожую аналогию подобрать), по которому можно создать конкретный 
объект. Класс есть у чисел, класс есть у текста.

## Прежде чем начать пользоваться объектом, его нужно создать

Из вышесказанного следует: объекты не возникают из ниоткуда. Чтобы появился объект в виде 
десятичного числа 2:
- **должен существовать класс** "Целое десятичное число", т.е. прототип для любого *конкретного* 
числа;
- конкретный экземпляр класса, например, число 2, **нужно создать**.

Чтобы создать объект, нужно обратиться к его классу и *вызвать* этот класс. Так, мы *вызываем* 
класс "Целое десятичное число", чтобы с его помощью создать экземпляр (объект, инстанс) класса, 
например, число 2 (или 102, или 1439, без разницы).

Таким образом, класс выступает сразу в двух ролях:
- это дизайн-проект (шаблон, чертеж, прототип), по которому создаются конкретные объекты;
- это одновременно инструмент для создания объектов по указанному проекту.

**Запоминаем**: объекты не появляются из ниоткуда. Их нужно создавать, вызывая классы, к которым 
эти объекты относятся. Разумеется, класс тоже должен быть создан. Нет класса &mdash; нет объекта.

## Python-интерпретатор изначально содержит в себе набор некоторых классов

Классы мы создаем сами, но не все. Есть набор классов, которые существуют изначально в "мозгах" 
Python-интерпретатора. Эти классы называются *встроенными*.

Среди встроенных классов есть:
- класс под *именем* `int` &mdash; класс для целых десятичных чисел
- класс под *именем* `float` &mdash; класс для чисел с дробной частью
- класс под *именем* `str` &mdash; класс для текста (далее будем придерживаться общепринятого термина "строки", но запомните, что это не что иное как текст любой длины, хоть вся "Война и мир" целиком, "упакованная" в один объект)

Я специально выделил *имя* &mdash; у любого класса всегда есть имя.

Последовательно введите в интерпретаторе:
- `int`, нажмите Enter
- `float`, нажмите Enter
- `str`, нажмите Enter

```py
>>> int
<class 'int'>
>>> float
<class 'float'>
>>> str
<class 'str'>
```

Как видите, интерпретатор без ошибок прочитал и понял каждую строку. В ответ на *имя* `int` он ответил примерно следующее: "Да, я знаю, что такое `int` &mdash; это такой класс". Тот же самый ответ для имен `float` и `str`.

Что означает наличие встроенных классов для чисел и текста? А то, что нам их уже описывать не 
нужно, интерпретатор *уже знает*, что такое "числа" и что такое "текст" и как обращаться с 
объектами этих классов. Например, знает, что числа можно складывать между собой.

Без встроенных классов для чисел и текста нам бы пришлось сначала создать их, а уже потом 
оперировать конкретными числами.

**Запоминаем**: в Python-интерпретатор заложен набор классов, среди них &mdash; классы для чисел и 
текста (строк).

## Создание объектов чисел и строк. Литералы

Как уже было сказано выше, мы создаем объекты (экземпляры классов) путем вызова класса, к которому 
эти объекты принадлежат. Для вызова класса есть специальный синтаксис, о нем расскажу позднее.

Сейчас важно другое: для создания простейших объектов, таких как числа и текст, есть свой, более 
простой синтаксис. Эти объекты можно создать просто путем их буквального написания их значений в 
коде. Правда, для строк и чисел с дробной частью есть нюансы в оформлении.

Объект класса чисел или объект класса строк, созданный путем написания в коде значения этого 
объекта (конкретного числа или конкретного текста), называется *литералом* (literal). Например, 
написанное в коде десятичное число `2` &mdash; это "целочисленный литерал", который отражает 
объект класса целых чисел.

> Литералы представляют значения, которые являются простейшими объектами в языке программирования и записываются в исходном коде программы напрямую.

Слово *литерал* нужно знать лишь потому, что оно нередко встречается в документации и вы должны понимать, что ничего страшного и сложного за ним не скрывается. 

**Запоминаем**: написав в кодек число или текст, мы, извините за каламбур, не просто их написали. 
Мы создали объект класса `int` (если число целое), класса `float` (если число с дробной частью) 
или класса `str` (если написали какой-то текст). Например, написав `2`, мы создали объект 
(экземпляр, инстанс) класса `int` со значением 2.

## Особенности оформления объектов чисел и строковых объектов (текста)

Несмотря на максимально упрощённый способ создания объектов чисел и объектов текста (строковых 
объектов) с помощью литералов, есть небольшие, но очень важные синтаксические требования. Без 
соблюдения этих требований интерпретатор не поймет, что перед ним именно число с дробной частью 
или текст.

**Целые десятичные числа**. Здесь предельно просто: пишем так, как в повседневной жизни: `2`, 
`83`, `3456789`. Внутри числа все цифры должны идти слитно.

Если мы хотим создать объект числа 2300000, то так и пишем, а не 2.300.000 или 2,300,000. Иначе в 
первом случае интепретатор выдаст синаксическую ошибку, а во втором создаст совершенной другой 
объект в виде набора (кортежа) из трех чисел: `2`, `300` и `0`.

```py
>>> 2.300.000
SyntaxError: invalid syntax # Ошибка: некорректный ситаксис
>>> 2,300,000
(2, 300, 0)
```

**Дробные числа**. Здесь синтаксическое требование в том, чтобы дробная часть отделялась точкой, 
например, `4.56` (четыре целых пятьдесят шесть сотых), а не 4,56. Пробелов и иных разделителей 
внутри числа, кроме единственной "дробной" точки быть не должно. 

**Текст**. Для текста или, технически говоря, объектов класса строк, требование такое: текст 
должен быть заключен в одинарные (`'`) или двойные (`"`) кавычки-лапки.

Из чего бы не состоял текст: пяти абзацев, трёх предложений, одного слова или одного символа, 
перед началом текста и после него должна стоять одна и та же кавычка (одинарная или двойная). 
Например,  `"Привет, мир!"` или `'Привет, мир!'`.

Зачем понадобились эти окружающие кавычки? А иначе интерпретатор не поймет, где перед ним *имя* (класса, функции, переменной), а где строковый объект.

Правило простое:
- если некий набор букв вы не окружили кавычками, 
интерпретатор считает, что это *имя* и начинает искать, что конкретно 
за этим именем стоит (например, за под именем `int` скрывается класс для создания целых чисел). Если имя неизвестно интерпретатору, т.е. он не знает, что конкретно за ним стоит, вы получите ошибку `NameError`.
- если некий набор букв окружен кавычками, то интерпретатор будет относиться к нему как к обычному тексту.

Попробуйте ввести в терминале и посмотрите, что вам будет отвечать интерпретатор. Обратите внимание на отличия в поведении интерпретатора при обработке `int` и `'int'`, а также на его реакцию при вводе `int1`:

```py
>>> int
<class 'int'>
>>> 'просто какой-то текст'
'просто какой-то текст'
>>> 'int'
'int'
>>> int1
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
NameError: name 'int1' is not defined
>>>
```

**Запоминаем**: чтобы интерпретатор понял, что мы создали числа с дробной частью, эта часть должна 
быть отделена одной точкой. Чтобы интерпретатор понял, что мы создали объект строки, **перед началом** текста **и после него** должна стоять одинарная или двойная кавычка-"лапка". Если кавычек не будет, интерпретатор будет считать, что перед ним *имя* и будет искать, что конкретно под этим именем скрывается. Не найдет &mdash; будет ошибка `NameError`.

Оформление строк мы рассмотрим подробнее чуть позже.

## Создаем объект числа 2

В сеансе интерпретатора введите число 2 и нажмите Enter.

```py
>>> 2
2   
>>> 
```

Интерпретатор оценил введенное вами *выражение* и ответил этим же числом. Он *понял*, что перед 
ним объект целого числа со значением 2.

Понятие *выражение* (`expression`) &mdash; одно из краеугольных понятий в программировании на 
Python.

[Документация](https://docs.python.org/3/glossary.html#term-expression) определяет понятие 
выражения так: *A piece of syntax which can be evaluated to some value* &mdash; *Кусочек кода, который может быть приведен к какому-то значению*.

Есть разные типы выражений, но их все объединяет одно &mdash; они порождают какой-то значение (технически говорят "возвращают значение").

Следовательно, создание объекта (в нашем примере в виде числа 2), это *выражение*.

Ну что, теперь мы можем точно описать, что мы сделали, когда ввели в интерпретаторе `2` и нажали 
Enter:
1. Мы написали *выражение*
2. Выражение заключается в создании объекта (экземпляра) встроенного класса `int`, который 
является прототипом для любых целых десятичных чисел. Значение созданного объекта &mdash; 2
3. Синтаксически выражение по созданию объекта целого числа оформили путем ввода целочисленного литерала `2`
4. Нажав Enter мы отправили выражение интерпретатору, который обработав (вычислив) его, вернул результат &mdash; 2.

**Запоминаем**. Создание объекта класса &mdash; это один из видов *выражений*. Выражения &mdash; неотъемлемая часть любого кода.

## Поведение объектов. Методы

Мы научились создавать простейшие объекты.

Теперь пора вспомнить о том, что у объектов есть *поведение*, есть собственный функционал. Объекты 
могут *что-то делать*. Функционал объектов представлен их *методами*, содержание методов 
описывается в классе, чьим экземпляром является объект.

Чтобы задействовать метод объекта, этот метод надо *вызвать*. Для вызова любого метода у любого 
объекта есть один и тот же общий синтаксис. Сейчас мы его трогать не будем. 

Как и в случае с литералами, для вызова некоторых методов есть специальный синтаксис &mdash; вызов 
методов через *операторы*. Ничего сложного за этим словом не скрывается. Операторы бывают 
нескольких типов, пока мы коснемся *арифметических операторов*, в частности, всем знакомого и 
понятного оператора сложения `+` (плюс).

**Запоминаем**: методы &mdash; это то, что умеет делать объект, его функционал. У объекта есть те 
методы, которые описаны в его классе. Вызов некоторых методов у объектов синтаксически можно 
обозначить с помощью операторов. **Важно помнить**, что операторы &mdash; это просто условное 
обозначение, за которым стоит вызов метода.

## Сложение &mdash; один из методов объектов целых чисел

Чтобы конкретизировать тему методов у объектов, возьмем всё те же целые числа. Вот что умеют 
объекты целых чисел? Да всё то же, что мы знаем со школы, числа можно складывать, перемножать, 
делить и т.д. Вот это всё и есть их методы, их функционал.

Разберём сложение.

С точки зрения интерпретатора сложение двух целых чисел выглядит так:
- чтобы объект конкретного числа умел "суммироваться" с другим числом, соответствующий этому действию метод должен быть описан в классе, к которым относятся объекты целых чисел;
- в классе `int` такое описание есть. Класс предусматривает, что у каждого числа есть метод по названием `__add__`
- при вызове метода ему для корректной работы нужно передать другое число (ведь не может же быть суммы при наличии только одного слагаемого)
- результат вызова метода &mdash; математически правильное сложение значений двух объектов целых чисел (объекта, у которого был вызван метод `__add__`, и объекта, который был передан этому методу)
- в результате сложения появляется новый объект целого числа.

Вызов метода `__add__` в коде можно описать оператором `+`, справа от которого нужно поставить 
объект числа, которое мы передадим этому методу для выполнения операции сложения.

Иными словами `2 +` &mdash; не что иное, как вызов метода `__add__` у объекта числа `2`. Разумеется, код "сломается", если мы оставим выражение в таком виде. Попробуйте.

```py
>>> 2 +
  File "<stdin>", line 1   
    2 +
       ^
SyntaxError: invalid syntax # Интерпретатор показывает нам, что что-то здесь не так, после плюса чего-то не хватает.
>>> 
```

Исправим. Введем корректное выражение, передав методу `__add__` объект другого числа.

```py
>>> 2 + 2
4
```

Код отработал штатно.

**Запоминаем**: арифметический оператор `+` служит условным обозначением вызова метода `__add__`, 
который есть у объектов целых чисел.  Чтобы этот метод смог отработать ему нужно передать другое 
целое число (расположить это число справа от оператора `+`)

## 2 + 2 &mdash; это выражение

Выше мы говорили, что *выражения* подразумевают появление в результате их вычисления каких-то 
значений (что равносильно созданию нового объекта).

Следовательно, `2` &mdash; это выражение (создан новый объект, число 2) и `2 + 2` &mdash; это тоже 
выражение, т.к. оно породило новый объект &mdash; число 4.

Мы помним, что за `+` стоит не что иное, как вызов метода `__add__`, который есть у всех целых чисел. Значит, вызов метода &mdash; это тоже выражение.

Соберем всё воедино в описании кода `2 + 2`:
- в Python есть встроенный класс (class) целых чисел, его имя &mdash; `int`
- `2` &mdash; *выражение* (expression), в котором создается объект (object, instance) числа `2`
- `2 +` &mdash; *выражение*, в котором вызывается метод `__add__`, отвечающий у целых чисел за сложение с другими числами. Вызов этого метода можно обозначить оператором `+`
- `2 + 2` &mdash; завершение выражения с вызовом метода `__add__` путем создания ещё одного объекта класса целых чисел (тоже со значением 2) и передачи его этому методу.

Вот мы и научились писать свой первый код. Мы **осознанно** написали целых 3 выражения:
- 2 выражения по созданию новых объектов из их классов;
- 1 выражение по созданию нового объекта путем взаимодействия между собой ранее созданных объектов через присущие этим объектам методы.

Не смотрите на кажущуюся простоту этого кода. Смотрите на базовые концепции, которые вы уяснили при 
его изучении. Все те же концепции будут и в коде из тысячи строк. Не рвитесь вперед, строка за 
строкой *добивайтесь досконального понимания*, что происходит в программе. И лучше всего это понимать, поставив себя на место интерпретатора. "Чтобы поймать преступника, ты должен думать, как преступник" 😄

## Заключение. Основные тезисы

1. Любая программа содержит в себе *объекты* (object) и описывает их взаимодействие. Часть кода программы, в котором происходит создание объекта или его взаимодействие с другим объектов называется *выражением* (expression).

2. Простейшие объекты, без которых не обходится ни одна программа, &mdash; числа и текст. 

3. Одни и те же по своей сути объекты всегда относятся к какому-то *классу* (class). Например, любое целое десятичное число относится к классу целых десятичных чисел. 

4. Не существует объектов без классов. Следовательно, прежде чем создать объект должен существовать его класс.

5. Класс &mdash; это прототип, описание того, каким должен быть объект, каким функционалом он должен обладать. Одновременно класс &mdash; это инструмент для создания объектов (своих "экземпляров"). Эта грань класса реализуется, когда класс "вызывают". Результат вызова &mdash; созданный объект ("экземпляр", "инстанс") класса.

6. В Python-интерпретатор заложен набор встроенных классов, включая классы для чисел и текста 
("строк").  Это позволяет нам уже на старте написания программы использовать в программе числа и 
текст, то есть экземпляры этих классов.

7. Класс целых называется `int`, класс чисел с дробной частью `float`, класс текста ("строк") 
`str`. Под этими *именами* их знает интерпретатор.

8. Любые объекты, которые мы собираемся использовать в коде, должны быть сначала созданы путём 
вызова соответствующего класса. Для этого есть специальный синтаксис, который мы пока не изучали. 

9. Для чисел и строк есть альтернативный синтаксис. Эти объекты считаются созданными самим фактом 
написания их значений в коде. Такой синтаксис называется *литерал* (literal). Написав просто число 
2 мы использовали "целочисленный литерал", тем самым создав экземпляр (объект, инстанс) класса  
целых чисел `int`.

10. Чтобы написать в коде число с дробной частью или строку, нужно соблюсти определённые 
синтаксические требования: 
- дробная часть должна следовать через точку &mdash; `5.2`
- текстовые объекты независимо от их длины должны быть окружены одинарными или двойными 
кавычками-лапками &mdash; `"Это какой-то текст"`. Только так интерпретатор, к примеру, сможет 
отличить имя класса `int` от объекта текста, составленного из тех же символов `'int'`.

13. Объекты взаимодействуют друг с другом через свои *методы* (method), которые описаны в 
определении класса, который эти объекта создал. Методы &mdash; это функционал, которым наделён 
объект. 

14. У вызова метода любого объекта есть общий синтаксис (пока мы его не изучали), но в ряде 
случаев есть альтернативное написание. 

15. Альтернативным обозначением вызова некоторых методов являются *операторы*. Есть несколько 
типов операторов, пока мы коснемся только арифметических операторов (это символы `+`, `-` и т.п.) 

16. Так, арифметический оператор `+` является условным обозначением вызова у  объекта целого 
числа, которое расположено слева от оператора, метода, отвечающего за сложение с другим целым 
числом, которое помещается справа от оператора (метод `__add__`).

17. Одним из возможных результатов использования метода у объекта является создание нового 
объекта. Так, при использовании у одного целого числа метода сложения с другим целым 
числом создаётся новый объект класса чисел со значением, равным сумме значений предыдущих двух 
объектов.
